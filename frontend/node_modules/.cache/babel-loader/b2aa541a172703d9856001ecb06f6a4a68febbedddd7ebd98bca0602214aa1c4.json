{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ilham Ripandi\\\\Documents\\\\Project\\\\my-app\\\\src\\\\pages\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Table from '../components/Table';\nimport AddEditForm from '../components/AddEditForm';\nimport 'boxicons/css/boxicons.min.css';\nimport SearchAndSort from '../components/SearchAndSort';\nimport FilterAndComparison from '../components/FilterAndComparison';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [penjualan, setPenjualan] = useState([]);\n  const [editing, setEditing] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortField, setSortField] = useState('nama_barang');\n  const [sortOrder, setSortOrder] = useState('asc');\n  const [filterStartDate, setFilterStartDate] = useState('');\n  const [filterEndDate, setFilterEndDate] = useState('');\n  const [comparisonData, setComparisonData] = useState(null);\n\n  // Mengambil data penjualan dari API\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/penjualan').then(response => {\n      setPenjualan(response.data);\n    }).catch(error => console.error('Error fetching data:', error));\n  }, []);\n\n  // Menambahkan atau memperbarui data penjualan\n  const handleSave = data => {\n    if (editing) {\n      axios.put(`http://localhost:5000/api/penjualan/${editing.id}`, data).then(() => {\n        setPenjualan(prevPenjualan => prevPenjualan.map(item => item.id === editing.id ? {\n          ...item,\n          ...data\n        } : item));\n        setEditing(null);\n      }).catch(error => console.error('Error updating data:', error));\n    } else {\n      axios.post('http://localhost:5000/api/penjualan', data).then(response => {\n        setPenjualan(prevPenjualan => [...prevPenjualan, {\n          ...data,\n          id: response.data.id\n        }]);\n      }).catch(error => console.error('Error adding data:', error));\n    }\n    closeModal();\n  };\n\n  // Menghapus data penjualan\n  const handleDelete = id => {\n    axios.delete(`http://localhost:5000/api/penjualan/${id}`).then(() => {\n      setPenjualan(prevPenjualan => prevPenjualan.filter(item => item.id !== id));\n    }).catch(error => console.error('Error deleting data:', error));\n  };\n\n  // Membuka modal untuk menambah atau mengedit data\n  const openModal = (item = null) => {\n    setEditing(item);\n    setIsModalOpen(true);\n  };\n\n  // Menutup modal\n  const closeModal = () => {\n    setIsModalOpen(false);\n    setEditing(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-semibold\",\n        children: \"Data Penjualan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => openModal(),\n        className: \"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600\",\n        children: \"Tambah Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchAndSort, {\n      setSearchTerm: setSearchTerm,\n      setSortField: setSortField,\n      setSortOrder: setSortOrder\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FilterAndComparison, {\n      setFilterStartDate: setFilterStartDate,\n      setFilterEndDate: setFilterEndDate,\n      setComparisonData: setComparisonData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      data: penjualan,\n      onEdit: openModal,\n      onDelete: handleDelete,\n      searchTerm: searchTerm,\n      sortField: sortField,\n      sortOrder: sortOrder,\n      filterStartDate: filterStartDate,\n      filterEndDate: filterEndDate,\n      comparisonData: comparisonData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), isModalOpen && /*#__PURE__*/_jsxDEV(AddEditForm, {\n      onSave: handleSave,\n      dataToEdit: editing,\n      closeModal: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"jxmGpJIAQ7wllwhxIOB3Th2K/hE=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","axios","Table","AddEditForm","SearchAndSort","FilterAndComparison","jsxDEV","_jsxDEV","Home","_s","penjualan","setPenjualan","editing","setEditing","isModalOpen","setIsModalOpen","searchTerm","setSearchTerm","sortField","setSortField","sortOrder","setSortOrder","filterStartDate","setFilterStartDate","filterEndDate","setFilterEndDate","comparisonData","setComparisonData","get","then","response","data","catch","error","console","handleSave","put","id","prevPenjualan","map","item","post","closeModal","handleDelete","delete","filter","openModal","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onEdit","onDelete","onSave","dataToEdit","_c","$RefreshReg$"],"sources":["C:/Users/Ilham Ripandi/Documents/Project/my-app/src/pages/Home.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Table from '../components/Table';\r\nimport AddEditForm from '../components/AddEditForm';\r\nimport 'boxicons/css/boxicons.min.css';\r\nimport SearchAndSort from '../components/SearchAndSort';\r\nimport FilterAndComparison from '../components/FilterAndComparison';\r\n\r\nconst Home = () => {\r\n  const [penjualan, setPenjualan] = useState([]);\r\n  const [editing, setEditing] = useState(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [sortField, setSortField] = useState('nama_barang');\r\n  const [sortOrder, setSortOrder] = useState('asc');\r\n  const [filterStartDate, setFilterStartDate] = useState('');\r\n  const [filterEndDate, setFilterEndDate] = useState('');\r\n  const [comparisonData, setComparisonData] = useState(null);\r\n\r\n  // Mengambil data penjualan dari API\r\n  useEffect(() => {\r\n    axios.get('http://localhost:5000/api/penjualan')\r\n      .then(response => {\r\n        setPenjualan(response.data);\r\n      })\r\n      .catch(error => console.error('Error fetching data:', error));\r\n  }, []);\r\n\r\n  // Menambahkan atau memperbarui data penjualan\r\n  const handleSave = (data) => {\r\n    if (editing) {\r\n      axios.put(`http://localhost:5000/api/penjualan/${editing.id}`, data)\r\n        .then(() => {\r\n          setPenjualan(prevPenjualan =>\r\n            prevPenjualan.map(item => (item.id === editing.id ? { ...item, ...data } : item))\r\n          );\r\n          setEditing(null);\r\n        })\r\n        .catch(error => console.error('Error updating data:', error));\r\n    } else {\r\n      axios.post('http://localhost:5000/api/penjualan', data)\r\n        .then(response => {\r\n          setPenjualan(prevPenjualan => [\r\n            ...prevPenjualan, { ...data, id: response.data.id }\r\n          ]);\r\n        })\r\n        .catch(error => console.error('Error adding data:', error));\r\n    }\r\n    closeModal();\r\n  };\r\n\r\n  // Menghapus data penjualan\r\n  const handleDelete = (id) => {\r\n    axios.delete(`http://localhost:5000/api/penjualan/${id}`)\r\n      .then(() => {\r\n        setPenjualan(prevPenjualan => prevPenjualan.filter(item => item.id !== id));\r\n      })\r\n      .catch(error => console.error('Error deleting data:', error));\r\n  };\r\n\r\n  // Membuka modal untuk menambah atau mengedit data\r\n  const openModal = (item = null) => {\r\n    setEditing(item);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  // Menutup modal\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n    setEditing(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h1 className=\"text-3xl font-semibold\">Data Penjualan</h1>\r\n        <button\r\n          onClick={() => openModal()}\r\n          className=\"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600\"\r\n        >\r\n          Tambah Data\r\n        </button>\r\n      </div>\r\n\r\n      {/* Filter dan Pencarian */}\r\n      <SearchAndSort\r\n        setSearchTerm={setSearchTerm}\r\n        setSortField={setSortField}\r\n        setSortOrder={setSortOrder}\r\n      />\r\n      <FilterAndComparison\r\n        setFilterStartDate={setFilterStartDate}\r\n        setFilterEndDate={setFilterEndDate}\r\n        setComparisonData={setComparisonData}\r\n      />\r\n\r\n      {/* Tabel Data Penjualan */}\r\n      <Table\r\n        data={penjualan}\r\n        onEdit={openModal}\r\n        onDelete={handleDelete}\r\n        searchTerm={searchTerm}\r\n        sortField={sortField}\r\n        sortOrder={sortOrder}\r\n        filterStartDate={filterStartDate}\r\n        filterEndDate={filterEndDate}\r\n        comparisonData={comparisonData}\r\n      />\r\n\r\n      {/* Modal untuk menambah/mengedit data */}\r\n      {isModalOpen && (\r\n        <AddEditForm\r\n          onSave={handleSave}\r\n          dataToEdit={editing}\r\n          closeModal={closeModal}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}